{
  "_format": "hh-sol-artifact-1",
  "contractName": "FHEBank",
  "sourceName": "contracts/FHEBank.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Transfer",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Withdrawal",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "externalEuint64",
          "name": "amount",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "inputProof",
          "type": "bytes"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint64",
          "name": "userCount",
          "type": "uint64"
        }
      ],
      "name": "getAverageBalance",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user2",
          "type": "address"
        }
      ],
      "name": "getBalanceDifference",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getEncryptedBalance",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getEncryptedTotalSupply",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalSupply",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "euint64",
          "name": "amount",
          "type": "bytes32"
        }
      ],
      "name": "hasSufficientBalance",
      "outputs": [
        {
          "internalType": "ebool",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "euint64",
          "name": "amount",
          "type": "bytes32"
        }
      ],
      "name": "isTotalSupplyGreaterThan",
      "outputs": [
        {
          "internalType": "ebool",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "externalEuint64",
          "name": "amount",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "inputProof",
          "type": "bytes"
        }
      ],
      "name": "transfer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "externalEuint64",
          "name": "amount",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "inputProof",
          "type": "bytes"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f5ffd5b5061018a6100ae604080516080810182525f808252602082018190529181018290526060810191909152506040805160808101825273687820221192c5b662b25367f70076a37bc79b6c815273848b0066793bcc60346da1f49049357399b8d595602082015273a02cda4ca3a71d7c46997716f4283aa851c2881291810191909152731364cbbf2cdf5032c47d8226a6f6fbd2afcdacac606082015290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b610e6b806101975f395ff3fe608060405234801561000f575f5ffd5b50600436106100cf575f3560e01c8063b5fb3bac1161007d578063da1f12ab11610058578063da1f12ab14610189578063e29973fc14610191578063f8b2cb4f146100f8575f5ffd5b8063b5fb3bac1461016e578063c4e41b2214610181578063d4ea066414610181575f5ffd5b80637a187dfd116100ad5780637a187dfd146101355780637b7e0a5a14610148578063999d5d411461015b575f5ffd5b8063137fbc03146100d3578063402dc4e4146100f85780634a2e35ba14610120575b5f5ffd5b6100e66100e1366004610bf4565b6101a4565b60405190815260200160405180910390f35b6100e6610106366004610c26565b6001600160a01b03165f9081526020819052604090205490565b61013361012e366004610c84565b6101cf565b005b6100e6610143366004610ccc565b6102c4565b610133610156366004610cf3565b6102d2565b6100e6610169366004610d49565b610429565b6100e661017c366004610d71565b61046b565b6001546100e6565b6127116100e6565b61013361019f366004610c84565b61049b565b5f5f6101b260015484610586565b90506101bd816105bb565b506101c881336105ca565b5092915050565b5f61020f8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f9081526020819052604090205490915061022b90826105e9565b335f9081526020819052604090205560015461024790826105e9565b600155335f90815260208190526040902054610262906105bb565b5061026e6001546105bb565b50335f81815260208190526040902054610287916105ca565b506040515f815233907f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65906020015b60405180910390a250505050565b5f5f6101b260015484610617565b5f6103128484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f9081526020819052604090205490915061032e90826105e9565b335f90815260208190526040808220929092556001600160a01b03871681522054610359908261063d565b6001600160a01b0386165f90815260208190526040808220929092553381522054610383906105bb565b506001600160a01b0385165f908152602081905260409020546103a5906105bb565b50335f818152602081905260409020546103be916105ca565b506001600160a01b0385165f908152602081905260409020546103e190866105ca565b506040515f81526001600160a01b0386169033907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a35050505050565b6001600160a01b0382165f90815260208190526040812054819061044d908461066b565b9050610458816105bb565b5061046381336105ca565b509392505050565b6001600160a01b038083165f908152602081905260408082205492841682528120549091829161044d91906105e9565b5f6104db8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f908152602081905260409020549091506104f7908261063d565b335f90815260208190526040902055600154610513908261063d565b600155335f9081526020819052604090205461052e906105bb565b5061053a6001546105bb565b50335f81815260208190526040902054610553916105ca565b506040515f815233907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c906020016102b6565b5f82610598576105955f610699565b92505b816105a9576105a65f610699565b91505b6105b483835f6106b5565b9392505050565b5f6105c68230610785565b5090565b5f6105d58383610785565b5090919050565b5f6105b4838360056107fb565b5f826105fb576105f85f610699565b92505b8161060c576106095f610699565b91505b6105b483835f610908565b5f82610629576106265f610699565b92505b6105b48367ffffffffffffffff8416610992565b5f8261064f5761064c5f610699565b92505b816106605761065d5f610699565b91505b6105b483835f610a36565b5f8261067d5761067a5f610699565b92505b8161068e5761068b5f610699565b91505b6105b483835f610ac0565b5f6106af8267ffffffffffffffff166005610b4a565b92915050565b5f5f82156106c85750600160f81b6106cb565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649701546040516385362ee760e01b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b0316906385362ee7906064015b6020604051808303815f875af1158015610757573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061077b9190610da2565b9695505050505050565b5f5f516020610e3f5f395f51905f528054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b1580156107e0575f5ffd5b505af11580156107f2573d5f5f3e3d5ffd5b50505050505050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81525f915f516020610e3f5f395f51905f52916001600160a01b039091169063196d0b9b90610861908890339089908990600401610dd9565b6020604051808303815f875af115801561087d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108a19190610da2565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b1580156108ea575f5ffd5b505af11580156108fc573d5f5f3e3d5ffd5b50505050509392505050565b5f5f821561091b5750600160f81b61091e565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649701546040516303056db360e31b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b03169063182b6d989060640161073b565b5f600160f81b815f516020610e3f5f395f51905f526001810154604051635a53accb60e01b815260048101889052602481018790526001600160f81b0319851660448201529192506001600160a01b031690635a53accb906064016020604051808303815f875af1158015610a09573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a2d9190610da2565b95945050505050565b5f5f8215610a495750600160f81b610a4c565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163022f65e760e31b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b03169063117b2f389060640161073b565b5f5f8215610ad35750600160f81b610ad6565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970154604051631391547f60e01b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b031690631391547f9060640161073b565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970154604051639cd07acb60e01b81525f915f516020610e3f5f395f51905f52916001600160a01b0390911690639cd07acb90610bac9087908790600401610e2a565b6020604051808303815f875af1158015610bc8573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bec9190610da2565b949350505050565b5f60208284031215610c04575f5ffd5b5035919050565b80356001600160a01b0381168114610c21575f5ffd5b919050565b5f60208284031215610c36575f5ffd5b6105b482610c0b565b5f5f83601f840112610c4f575f5ffd5b50813567ffffffffffffffff811115610c66575f5ffd5b602083019150836020828501011115610c7d575f5ffd5b9250929050565b5f5f5f60408486031215610c96575f5ffd5b83359250602084013567ffffffffffffffff811115610cb3575f5ffd5b610cbf86828701610c3f565b9497909650939450505050565b5f60208284031215610cdc575f5ffd5b813567ffffffffffffffff811681146105b4575f5ffd5b5f5f5f5f60608587031215610d06575f5ffd5b610d0f85610c0b565b935060208501359250604085013567ffffffffffffffff811115610d31575f5ffd5b610d3d87828801610c3f565b95989497509550505050565b5f5f60408385031215610d5a575f5ffd5b610d6383610c0b565b946020939093013593505050565b5f5f60408385031215610d82575f5ffd5b610d8b83610c0b565b9150610d9960208401610c0b565b90509250929050565b5f60208284031215610db2575f5ffd5b5051919050565b60548110610dd557634e487b7160e01b5f52602160045260245ffd5b9052565b8481526001600160a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f830116840101915050610a2d6060830184610db9565b828152604081016105b46020830184610db956fe9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700a164736f6c634300081b000a",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b50600436106100cf575f3560e01c8063b5fb3bac1161007d578063da1f12ab11610058578063da1f12ab14610189578063e29973fc14610191578063f8b2cb4f146100f8575f5ffd5b8063b5fb3bac1461016e578063c4e41b2214610181578063d4ea066414610181575f5ffd5b80637a187dfd116100ad5780637a187dfd146101355780637b7e0a5a14610148578063999d5d411461015b575f5ffd5b8063137fbc03146100d3578063402dc4e4146100f85780634a2e35ba14610120575b5f5ffd5b6100e66100e1366004610bf4565b6101a4565b60405190815260200160405180910390f35b6100e6610106366004610c26565b6001600160a01b03165f9081526020819052604090205490565b61013361012e366004610c84565b6101cf565b005b6100e6610143366004610ccc565b6102c4565b610133610156366004610cf3565b6102d2565b6100e6610169366004610d49565b610429565b6100e661017c366004610d71565b61046b565b6001546100e6565b6127116100e6565b61013361019f366004610c84565b61049b565b5f5f6101b260015484610586565b90506101bd816105bb565b506101c881336105ca565b5092915050565b5f61020f8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f9081526020819052604090205490915061022b90826105e9565b335f9081526020819052604090205560015461024790826105e9565b600155335f90815260208190526040902054610262906105bb565b5061026e6001546105bb565b50335f81815260208190526040902054610287916105ca565b506040515f815233907f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65906020015b60405180910390a250505050565b5f5f6101b260015484610617565b5f6103128484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f9081526020819052604090205490915061032e90826105e9565b335f90815260208190526040808220929092556001600160a01b03871681522054610359908261063d565b6001600160a01b0386165f90815260208190526040808220929092553381522054610383906105bb565b506001600160a01b0385165f908152602081905260409020546103a5906105bb565b50335f818152602081905260409020546103be916105ca565b506001600160a01b0385165f908152602081905260409020546103e190866105ca565b506040515f81526001600160a01b0386169033907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9060200160405180910390a35050505050565b6001600160a01b0382165f90815260208190526040812054819061044d908461066b565b9050610458816105bb565b5061046381336105ca565b509392505050565b6001600160a01b038083165f908152602081905260408082205492841682528120549091829161044d91906105e9565b5f6104db8484848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506105dc92505050565b335f908152602081905260409020549091506104f7908261063d565b335f90815260208190526040902055600154610513908261063d565b600155335f9081526020819052604090205461052e906105bb565b5061053a6001546105bb565b50335f81815260208190526040902054610553916105ca565b506040515f815233907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c906020016102b6565b5f82610598576105955f610699565b92505b816105a9576105a65f610699565b91505b6105b483835f6106b5565b9392505050565b5f6105c68230610785565b5090565b5f6105d58383610785565b5090919050565b5f6105b4838360056107fb565b5f826105fb576105f85f610699565b92505b8161060c576106095f610699565b91505b6105b483835f610908565b5f82610629576106265f610699565b92505b6105b48367ffffffffffffffff8416610992565b5f8261064f5761064c5f610699565b92505b816106605761065d5f610699565b91505b6105b483835f610a36565b5f8261067d5761067a5f610699565b92505b8161068e5761068b5f610699565b91505b6105b483835f610ac0565b5f6106af8267ffffffffffffffff166005610b4a565b92915050565b5f5f82156106c85750600160f81b6106cb565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649701546040516385362ee760e01b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b0316906385362ee7906064015b6020604051808303815f875af1158015610757573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061077b9190610da2565b9695505050505050565b5f5f516020610e3f5f395f51905f528054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b1580156107e0575f5ffd5b505af11580156107f2573d5f5f3e3d5ffd5b50505050505050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81525f915f516020610e3f5f395f51905f52916001600160a01b039091169063196d0b9b90610861908890339089908990600401610dd9565b6020604051808303815f875af115801561087d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108a19190610da2565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b1580156108ea575f5ffd5b505af11580156108fc573d5f5f3e3d5ffd5b50505050509392505050565b5f5f821561091b5750600160f81b61091e565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649701546040516303056db360e31b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b03169063182b6d989060640161073b565b5f600160f81b815f516020610e3f5f395f51905f526001810154604051635a53accb60e01b815260048101889052602481018790526001600160f81b0319851660448201529192506001600160a01b031690635a53accb906064016020604051808303815f875af1158015610a09573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610a2d9190610da2565b95945050505050565b5f5f8215610a495750600160f81b610a4c565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163022f65e760e31b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b03169063117b2f389060640161073b565b5f5f8215610ad35750600160f81b610ad6565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970154604051631391547f60e01b815260048101879052602481018690526001600160f81b0319831660448201525f516020610e3f5f395f51905f52916001600160a01b031690631391547f9060640161073b565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970154604051639cd07acb60e01b81525f915f516020610e3f5f395f51905f52916001600160a01b0390911690639cd07acb90610bac9087908790600401610e2a565b6020604051808303815f875af1158015610bc8573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610bec9190610da2565b949350505050565b5f60208284031215610c04575f5ffd5b5035919050565b80356001600160a01b0381168114610c21575f5ffd5b919050565b5f60208284031215610c36575f5ffd5b6105b482610c0b565b5f5f83601f840112610c4f575f5ffd5b50813567ffffffffffffffff811115610c66575f5ffd5b602083019150836020828501011115610c7d575f5ffd5b9250929050565b5f5f5f60408486031215610c96575f5ffd5b83359250602084013567ffffffffffffffff811115610cb3575f5ffd5b610cbf86828701610c3f565b9497909650939450505050565b5f60208284031215610cdc575f5ffd5b813567ffffffffffffffff811681146105b4575f5ffd5b5f5f5f5f60608587031215610d06575f5ffd5b610d0f85610c0b565b935060208501359250604085013567ffffffffffffffff811115610d31575f5ffd5b610d3d87828801610c3f565b95989497509550505050565b5f5f60408385031215610d5a575f5ffd5b610d6383610c0b565b946020939093013593505050565b5f5f60408385031215610d82575f5ffd5b610d8b83610c0b565b9150610d9960208401610c0b565b90509250929050565b5f60208284031215610db2575f5ffd5b5051919050565b60548110610dd557634e487b7160e01b5f52602160045260245ffd5b9052565b8481526001600160a01b0384166020820152608060408201525f8351806080840152806020860160a085015e5f60a0828501015260a0601f19601f830116840101915050610a2d6060830184610db9565b828152604081016105b46020830184610db956fe9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700a164736f6c634300081b000a",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
